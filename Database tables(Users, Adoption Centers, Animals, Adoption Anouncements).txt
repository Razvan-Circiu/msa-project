-- Users Table

CREATE TABLE Users (
    user_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    username VARCHAR2(50) UNIQUE NOT NULL,
    email VARCHAR2(100) UNIQUE NOT NULL,
    password_hash VARCHAR2(255) NOT NULL,
    profile_picture VARCHAR2(255),
    location VARCHAR2(100),
    bio CLOB,
    date_joined TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Adoption Centers Table

CREATE TABLE AdoptionCenters (
    center_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    name VARCHAR2(100) NOT NULL,
    address VARCHAR2(255) NOT NULL,
    city VARCHAR2(50),
    contact_email VARCHAR2(100),
    contact_phone VARCHAR2(20),
    website VARCHAR2(100),
    description CLOB,
    registered_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


--Animals Table

CREATE TABLE Animals (
    animal_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    name VARCHAR2(50) NOT NULL,
    species VARCHAR2(20) CHECK (species IN ('Dog', 'Cat', 'Bird', 'Other')),
    breed VARCHAR2(50),
    age NUMBER,
    gender VARCHAR2(10) CHECK (gender IN ('Male', 'Female', 'Unknown')),
    animal_size VARCHAR2(10) CHECK (animal_size IN ('Small', 'Medium', 'Large')),
    description CLOB,
    photo_url VARCHAR2(255),
    status VARCHAR2(20) DEFAULT 'Available' CHECK (status IN ('Available', 'Adopted')),
    posted_by_user NUMBER,
    center_id NUMBER,
    FOREIGN KEY (posted_by_user) REFERENCES Users(user_id) ON DELETE SET NULL,
    FOREIGN KEY (center_id) REFERENCES AdoptionCenters(center_id) ON DELETE SET NULL
);


-- Adoption Announcements Table

CREATE TABLE AdoptionAnnouncements (
    announcement_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    animal_id NUMBER NOT NULL,
    title VARCHAR2(100) NOT NULL,
    description CLOB,
    posted_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expiration_date TIMESTAMP,
    FOREIGN KEY (animal_id) REFERENCES Animals(animal_id) ON DELETE CASCADE
);
